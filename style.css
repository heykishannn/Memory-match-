/* Basic Reset & Body Styling */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif; /* Placeholder font, will refine later */
}

body {
    background: linear-gradient(to bottom right, #6E8EFB, #a777e3); /* Default gradient */
    color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden; /* Prevents scrollbars from gradient overflow */
    text-align: center;
}

/* Screen Management */
.screen {
    display: none; /* Hidden by default */
    width: 100%;
    max-width: 480px; /* Max width for mobile portrait */
    min-height: 100vh; /* Full height */
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    position: absolute; /* Allow stacking */
    top: 0;
    left: 50%;
    transform: translateX(-50%);
}

.screen.active {
    display: flex; /* Show active screen */
}

/* Splash Screen Specifics */
#splash-screen {
    background: linear-gradient(to bottom right, #3A1C71, #D76D77, #FFAF7B);
}
#splash-screen h1 {
    font-size: 2.5em;
    margin-bottom: 20px;
}

/* Popup Container Styling */
.popup-container {
    display: none; /* Hidden by default */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    justify-content: center;
    align-items: center;
    z-index: 100;
}

.popup-container.active {
    display: flex;
}

.popup {
    background: linear-gradient(to bottom right, #797EF6, #4ADEDE);
    padding: 30px;
    border-radius: 16px; /* 2xl rounded corners */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    width: 80%;
    max-width: 350px;
    text-align: center;
}

.popup h2 {
    margin-bottom: 15px;
    font-size: 1.8em;
}

.popup p {
    margin-bottom: 20px;
    font-size: 1em;
}

.popup button {
    background: linear-gradient(to right, #FF8C00, #FFA500); /* Orange gradient */
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 12px; /* Rounded corners */
    font-size: 1em;
    cursor: pointer;
    margin: 5px;
    transition: transform 0.2s ease;
}

.popup button:hover {
    transform: scale(1.05);
}

/* Win Popup Specific Animation */
.popup.zoom-style {
    animation: zoomIn 0.5s ease-out;
}

@keyframes zoomIn {
    from { transform: scale(0.5); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

#celebration-animation {
    font-size: 3em;
    margin-bottom: 20px;
}


/* Game Screen Styling */
#game-screen {
    /* Uses default body gradient for now, can be customized */
    justify-content: flex-start; /* Align items to the top */
}

.top-bar {
    display: flex;
    justify-content: space-between;
    width: 100%;
    padding: 10px 20px;
    background-color: rgba(0,0,0,0.1);
    border-radius: 12px;
    margin-bottom: 20px;
}

#level, #timer {
    font-size: 1.2em;
    font-weight: bold;
}

#game-board {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Default, will be adjusted by JS */
    gap: 10px;
    width: 100%;
    max-width: 400px; /* Max width for the board itself */
    margin: auto;
}

.card {
    width: 100%; /* Make card responsive within grid cell */
    aspect-ratio: 1 / 1; /* Make card square */
    background-color: #4a5568; /* Placeholder color */
    border-radius: 12px; /* Rounded corners */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2em; /* Placeholder for icon/text */
    cursor: pointer;
    transform-style: preserve-3d;
    transition: transform 0.6s;
    position: relative; /* For card face and back */
}

.card .card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 12px;
}

.card .card-back {
    background: linear-gradient(to bottom right, #8A2BE2, #4B0082); /* Purple gradient for card back */
    color: white;
}

.card .card-front {
    background: linear-gradient(to bottom right, #ADD8E6, #F0F8FF); /* Light blue gradient for card front */
    color: #333;
    transform: rotateY(180deg);
}

.card.is-flipped {
    transform: rotateY(180deg);
}

.card.is-matched {
    cursor: default;
    opacity: 0.7; /* Indicate matched and disabled */
    /* Potentially change background or add border */
    background: linear-gradient(to bottom right, #32CD32, #228B22); /* Greenish when matched */
}


/* Rewarded Ad Screen Styling */
#rewarded-ad-screen {
    background: linear-gradient(to bottom right, #4B0082, #8A2BE2); /* Purple gradient */
    justify-content: flex-start;
    padding: 0; /* Full screen experience */
}

.ad-header {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background-color: rgba(0,0,0,0.2);
}

#ad-timer {
    font-size: 1.5em;
    font-weight: bold;
}

#ad-back-button {
    background: linear-gradient(to right, #FF8C00, #FFA500); /* Orange gradient */
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 12px; /* Rounded corners */
    font-size: 1em;
    cursor: pointer;
}

#ad-reward-guaranteed {
    font-size: 1em;
    font-weight: bold;
    color: #7CFC00; /* Bright green */
}

.ad-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center; /* Center ads vertically */
    flex-grow: 1;
    width: 100%;
    padding: 20px;
    gap: 15px; /* Space between ad placeholders */
}

.ad-placeholder {
    background-color: rgba(255,255,255,0.1);
    border: 2px dashed #ccc;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #fff;
    border-radius: 12px;
}

.ad-placeholder.banner-ad { /* 468x60 */
    width: 100%;
    max-width: 468px;
    height: 60px;
    align-self: flex-end; /* Aligns to the right under "Reward Guaranteed" if header structure allows */
    /* For now, it will be under the header, centered by ad-content */
}

.ad-placeholder.medium-rectangle-ad { /* 300x250 */
    width: 300px;
    height: 250px;
}

/* Responsive adjustments */
@media (max-width: 480px) {
    .popup {
        width: 90%;
    }

    #game-board {
        gap: 8px;
    }

    .card {
        font-size: 1.5em; /* Adjust card font size for smaller screens */
        border-radius: 8px;
    }

    .popup button {
        padding: 10px 15px;
        font-size: 0.9em;
    }

    .ad-placeholder.banner-ad {
        /* On smaller screens, the 468x60 might be too wide.
           Let's make it responsive but keep aspect ratio if possible,
           or just let it be centered by the parent.
           For simplicity, we'll let it be centered and max-width handled. */
    }
}
